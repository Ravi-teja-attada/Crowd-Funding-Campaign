(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[634],{8164:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/campaigns/show",function(){return t(4569)}])},4569:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return k}});var n=t(7568),s=t(1438),a=t(2951),o=t(8029),i=t(6567),u=t(655),c=t(5893),d=t(7294),l=t(3544),h=t(6392),p=t(6014),m=t(5770),f=t(9369),w=t(4256),b=t(967),v=t(1508),Z=t(8156),y=t(5279),g=t(416),j=t(6215);var x=function(e){var r=(0,d.useState)(""),t=r[0],s=r[1],a=(0,d.useState)(!1),o=a[0],i=a[1],l=(0,d.useState)(""),p=l[0],m=l[1];function f(){return(f=(0,n.Z)((function(r){var n,a,o;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:r.preventDefault(),i(!0),m(""),u.label=1;case 1:return u.trys.push([1,4,,5]),n=new h.Z(e.address),[4,v.Z.eth.getAccounts()];case 2:return a=u.sent(),[4,n.methods.contribute().send({from:a[0],value:v.Z.utils.toWei(t,"ether")})];case 3:return u.sent(),j.Router.replaceRoute("/campaigns/".concat(e.address)),[3,5];case 4:return o=u.sent(),m((0,c.jsxs)(Z.Z,{negative:!0,children:[(0,c.jsx)(Z.Z.Header,{children:"Oops!!"}),(0,c.jsx)("p",{children:o.message})]})),s(""),[3,5];case 5:return i(!1),[2]}}))}))).apply(this,arguments)}return(0,c.jsxs)(y.Z,{onSubmit:function(e){return f.apply(this,arguments)},error:!!p,children:[(0,c.jsxs)(y.Z.Field,{children:[(0,c.jsx)("label",{children:"Amount to Contribute"}),(0,c.jsx)(g.Z,{value:t,onChange:function(e){return s(e.target.value)},label:"ether",labelPosition:"right",placeholder:"Enter amount"})]}),(0,c.jsx)(b.Z,{loading:o,primary:!0,children:"Contribute"}),p]})},_=function(e){(0,o.Z)(t,e);var r=(0,i.Z)(t);function t(){return(0,s.Z)(this,t),r.apply(this,arguments)}return(0,a.Z)(t,[{key:"displayCard",value:function(){var e=this.props,r=e.balance,t=e.minContribution,n=e.requestsLength,s=e.approversCount,a=[{header:e.owner,meta:"Address of the Owner",description:"The Owner created this campaign and can create requests to wothdraw money",style:{overflowWrap:"break-word"}},{header:t,meta:"Minimum Contribution (wei)",description:"This is the minimum amount of wei you must contribute to become an approver",style:{overflowWrap:"break-word"}},{header:v.Z.utils.fromWei(r,"ether"),meta:"Balance of this campaign (ether)",description:"Amount of ether left to be spend by the owner of this campaign",style:{overflowWrap:"break-word"}},{header:n,meta:"Number of active requests",description:"A request tries to withdraw money from the contract. Requests must be approved by approvers.",style:{overflowWrap:"break-word"}},{header:s,meta:"Number of approvers",description:"Number of people who have already donated to the campaign",style:{overflowWrap:"break-word"}}];return(0,c.jsx)(p.Z.Group,{items:a})}},{key:"render",value:function(){return(0,c.jsxs)(l.Z,{children:[(0,c.jsx)("h1",{children:"Its working"}),(0,c.jsxs)(m.Z,{children:[(0,c.jsxs)(f.Z,{children:[(0,c.jsx)(m.Z.Column,{width:10,children:this.displayCard()}),(0,c.jsx)(m.Z.Column,{width:6,children:(0,c.jsx)(x,{address:this.props.address})})]}),(0,c.jsx)(f.Z,{children:(0,c.jsx)(w.Z,{children:(0,c.jsx)(j.Link,{route:"/campaigns/".concat(this.props.address,"/requests"),children:(0,c.jsx)("a",{children:(0,c.jsx)(b.Z,{primary:!0,content:"view requests"})})})})})]})]})}}],[{key:"getInitialProps",value:function(e){return(0,n.Z)((function(){var r;return(0,u.__generator)(this,(function(t){switch(t.label){case 0:return[4,(0,h.Z)(e.query.address).methods.getSummary().call()];case 1:return r=t.sent(),console.log("ok"),console.log(r),[2,{address:e.query.address,balance:r[0],minContribution:r[1],requestsLength:r[2],approversCount:r[3],owner:r[4]}]}}))}))()}}]),t}(d.Component),k=_}},function(e){e.O(0,[774,543,576,434,240,553,888,179],(function(){return r=8164,e(e.s=r);var r}));var r=e.O();_N_E=r}]);